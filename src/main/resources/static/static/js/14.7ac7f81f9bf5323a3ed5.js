webpackJsonp([14],{BKH0:function(e,t){},cxj3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Xxa5"),s=a.n(r),i=a("exGp"),n=a.n(i),l=a("Dd8w"),c=a.n(l),o=a("NYxO"),m=a("+cKO"),d=a("TYx6"),u=a("i53X"),f=a("/QaM"),v={name:"EmailField",props:{value:{type:String,default:""},v:{type:Object,required:!0},label:{type:String,default:"Имя"},id:{type:String,required:!0}},computed:{name:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form__group",class:{fill:e.name.length>0}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form__input",class:{invalid:e.v.$dirty&&!e.v.required||e.v.$dirty&&!e.v.minLength},attrs:{id:e.id,name:"name"},domProps:{value:e.name},on:{change:function(t){return e.v.$touch()},input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("label",{staticClass:"form__label",attrs:{for:e.id}},[e._v(e._s(e.label))]),e.v.$dirty&&!e.v.required?a("span",{staticClass:"form__error"},[e._v("Обязательно поле")]):e.v.$dirty&&!e.v.minLength?a("span",{staticClass:"form__error"},[e._v("Минимальное количество символов "+e._s(e.v.minLength))]):e._e()])},staticRenderFns:[]},_=a("VU/8")(v,p,!1,null,null,null).exports,b=a("a2KH"),h={name:"ConfirmField",props:{value:{type:Boolean,default:""},v:{type:Object,required:!0},id:{type:String,required:!0}},computed:{confirm:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form__group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirm,expression:"confirm"}],staticClass:"form__checkbox",class:{invalid:e.v.$dirty&&!e.v.sameAs},attrs:{type:"checkbox",name:"confirm",id:e.id},domProps:{checked:Array.isArray(e.confirm)?e._i(e.confirm,null)>-1:e.confirm},on:{change:function(t){var a=e.confirm,r=t.target,s=!!r.checked;if(Array.isArray(a)){var i=e._i(a,null);r.checked?i<0&&(e.confirm=a.concat([null])):i>-1&&(e.confirm=a.slice(0,i).concat(a.slice(i+1)))}else e.confirm=s}}}),a("label",{staticClass:"form__checkbox-label",attrs:{for:e.id}},[e._v("Я согласен с "),a("a",{attrs:{href:"#"}},[e._v("полит. конф-ти ")]),e._v("и передачей "),a("a",{attrs:{href:"#"}},[e._v("перс. данных")])])])},staticRenderFns:[]},w=a("VU/8")(h,g,!1,null,null,null).exports,$=a("IcnI"),k={name:"Registration",components:{PasswordField:d.a,EmailField:f.a,NameField:_,NumberField:b.a,ConfirmField:w,PasswordRepeatField:u.a},data:function(){return{email:"",passwd1:"",passwd2:"",firstName:"",lastName:"",code:0,number:"",confirm:!1}},computed:c()({},Object(o.c)(["getCode"])),methods:c()({},Object(o.b)("auth/api",["register"]),{submitHandler:function(){var e=this;return n()(s.a.mark(function t(){var a,r,i,n,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.email,r=e.passwd1,i=e.passwd2,n=e.firstName,l=e.lastName,!e.$v.$invalid){t.next=4;break}return e.$v.$touch(),t.abrupt("return");case 4:return t.prev=4,t.next=7,e.register({email:a,passwd1:r,passwd2:i,firstName:n,lastName:l,code:e.number});case 7:e.$router.push({name:"RegisterSuccess"}),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(4);case 12:case"end":return t.stop()}},t,e,[[4,10]])}))()}}),mounted:function(){this.code=this.getCode},validations:{confirm:{sameAs:Object(m.sameAs)(function(){return!0})},email:{required:m.required,email:m.email},passwd1:{required:m.required,minLength:Object(m.minLength)(8)},passwd2:{required:m.required,minLength:Object(m.minLength)(8),sameAsPassword:Object(m.sameAs)("passwd1")},firstName:{required:m.required,minLength:Object(m.minLength)(3)},lastName:{required:m.required,minLength:Object(m.minLength)(3)},number:{required:m.required,numeric:m.numeric,isCode:function(e){return+e===$.a.state.code}}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"registration"},[a("form",{staticClass:"registration__form",on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[a("div",{staticClass:"form__block"},[a("h4",{staticClass:"form__subtitle"},[e._v("Аккаунт")]),a("email-field",{class:{checked:e.$v.email.required&&e.$v.email.email},attrs:{id:"register-email",v:e.$v.email},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("password-field",{class:{checked:e.$v.passwd1.required&&e.$v.passwd2.sameAsPassword&&e.$v.passwd1.minLength},attrs:{id:"register-password",v:e.$v.passwd1,info:"info",registration:"registration"},model:{value:e.passwd1,callback:function(t){e.passwd1=t},expression:"passwd1"}}),a("password-repeat-field",{class:{checked:e.$v.passwd1.required&&e.$v.passwd2.sameAsPassword&&e.$v.passwd2.minLength},attrs:{id:"register-repeat-password",v:e.$v.passwd2},model:{value:e.passwd2,callback:function(t){e.passwd2=t},expression:"passwd2"}})],1),a("div",{staticClass:"form__block"},[a("h4",{staticClass:"form__subtitle"},[e._v("Личные данные")]),a("name-field",{attrs:{id:"register-firstName",v:e.$v.firstName},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),a("name-field",{attrs:{id:"register-lastName",v:e.$v.lastName,label:"Фамилия"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("div",{staticClass:"form__block"},[a("h4",{staticClass:"form__subtitle"},[e._v("Введите код")]),a("span",{staticClass:"form__code"},[e._v(e._s(e.code))]),a("number-field",{class:{checked:e.$v.number.required&&e.$v.number.isCode},attrs:{id:"register-number",v:e.$v.number},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}}),a("confirm-field",{attrs:{id:"register-confirm",v:e.$v.confirm},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}})],1),a("div",{staticClass:"registration__action"},[a("button-hover",{attrs:{tag:"button",type:"submit",variant:"white"}},[e._v("Зарегистрироваться")])],1)])])},staticRenderFns:[]};var C=a("VU/8")(k,x,!1,function(e){a("BKH0")},null,null);t.default=C.exports}});
//# sourceMappingURL=14.7ac7f81f9bf5323a3ed5.js.map